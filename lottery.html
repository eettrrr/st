<!DOCTYPE html>
<html>

<head>
    <link href='https://fonts.googleapis.com/css?family=Aclonica' rel='stylesheet'>
    <style>
        body {
            font-family: 'Aclonica';
            font-size: 22px;
        }
    </style>

    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=0, user-scalable=no" />
    <!--모바일페이지크기조절메타태그-->
    <title>Streams Lottery</title>
    <script>
        var remaintiles = 20
        var numbers = new Array()
        numbers[0] = 1
        numbers[1] = 2
        numbers[2] = 3
        numbers[3] = 4
        numbers[4] = 5
        numbers[5] = 6
        numbers[6] = 7
        numbers[7] = 8
        numbers[8] = 9
        numbers[9] = 10
        numbers[10] = 11
        numbers[11] = 11
        numbers[12] = 12
        numbers[13] = 12
        numbers[14] = 13
        numbers[15] = 13
        numbers[16] = 14
        numbers[17] = 14
        numbers[18] = 15
        numbers[19] = 15
        numbers[20] = 16
        numbers[21] = 16
        numbers[22] = 17
        numbers[23] = 17
        numbers[24] = 18
        numbers[25] = 18
        numbers[26] = 19
        numbers[27] = 19
        numbers[28] = 20
        numbers[29] = 21
        numbers[30] = 22
        numbers[31] = 23
        numbers[32] = 24
        numbers[33] = 25
        numbers[34] = 26
        numbers[35] = 27
        numbers[36] = 28
        numbers[37] = 29
        numbers[38] = 30
        numbers[39] = "*"

        var checkedUsed = new Array()
        for (let index = 0; index < 40; index++) {
            checkedUsed[index] = false;
        }
    </script>

</head>

<body>
    <p id="main"></p>
    <p id="pallete">
        <input type="button" id="btn_policy" value=" Draw a Tile " style="font-size:100%;     background-color: #aaa;
		font-family: 'Aclonica';
        color:#000;
        padding: 15px 0;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        margin: 5px;
        cursor: pointer;" onClick="draw_tiles()" /></p>
    <p id="tiles"></p>
</body>
<script>
    var mainid = "main"
    for (let index = 0; index < 40; index++) {

        var button = document.createElement('input');
        button.setAttribute("type", "button")
        button.setAttribute("id", "numbers" + index)
        button.setAttribute("value", numbers[index])
        button.setAttribute("style", "font-size:100%; background-color: #000; color: #fff;")
        document.getElementById(mainid).appendChild(button)

        var space = document.createElement('span')
        space.innerHTML = " "
        document.getElementById(mainid).appendChild(space)
    }

    function draw_tiles() {
        if (remaintiles == 0) {
            alert("Game End")
            return
        }
        alert("Remain tiles: " + remaintiles)
        remaintiles--
        var idx = Math.floor(Math.random() * 40)
        while (checkedUsed[idx] == true) {
            idx++
            if (idx == 40) {
                idx = 0
            }
        }
        var buttonmod = document.getElementById("numbers" + idx)
        buttonmod.setAttribute("style", "font-size:100%; background-color: #fff; color: #000;")
        checkedUsed[idx] = true

        var button = document.createElement('input');
        button.setAttribute("type", "button")
        button.setAttribute("value", numbers[idx])
        button.setAttribute("style", "font-size:200%; background-color: #000; color: #fff;")
        document.getElementById("tiles").appendChild(button)

        var space = document.createElement('span')
        space.innerHTML = " "
        document.getElementById("tiles").appendChild(space)


    }
</script>

</html>
